AI_Book_TranslatorA Python-based book translation tool leveraging Google Gemini AI to translate structured documents while preserving format and tone.This project provides a powerful solution for translating entire books or long text documents. It intelligently parses and translates structured text (chapters, paragraphs), offering flexibility in target language and translation tone.FeaturesComprehensive Translation: Translates both main content paragraphs and chapter/section headings.Google Gemini AI Integration: Utilizes Google's powerful Gemini platform for high-quality, fast, and robust translations.Customizable Output: Allows users to specify the target language (e.g., Hindi, French) and desired tone (e.g., simple, formal, conversational).Consistent Styling: Employs Gemini's System Instructions to ensure a uniform translation style throughout the entire document.Robustness: Includes retry mechanisms for API calls to handle transient network issues or temporary rate limits.API Key Validation: Validates the Gemini API key upfront to prevent issues during translation.Structured Output: Generates multiple useful output files:A clean text file containing only the translated content.A detailed text file showing original and translated content side-by-side for easy comparison.JSON files representing the parsed original content and the fully structured translated book.Self-Contained Output: All generated output files are automatically saved in the same directory as your input text file.Getting a Gemini API KeyTo use this translator, you need an API key for Google's Gemini platform.Visit Google AI Studio: Go to https://aistudio.google.com/.Sign In: Use your Google account to sign in.Create API Key:In the sidebar, navigate to the "Get API Key" or "API key" section.Click "Create API key in new project" (or choose an existing project if you have one).Copy the generated API key. Keep this key secure and do not share it publicly by hardcoding it into your script or committing it directly to version control. (Your current script design correctly prompts for it at runtime).SetupPrerequisitesPython 3.9 or higher installed.An active internet connection.A Google Gemini API key (see instructions above).InstallationSave the Code: Ensure your main script file is named project.py and save all the provided Python code into it.Create requirements.txt: In the root directory of your project (where project.py is located), create a file named requirements.txt and add the following line to it:google-generativeai

Install Required Libraries: Open your terminal or command prompt, navigate to your project's root directory, and run:pip install -r requirements.txt

If you plan to run the tests, you'll also need pytest:pip install pytest

Usage1. Prepare Your Input FileYour input text file (e.g., book.txt) must follow a specific format to allow the script to correctly parse chapters/sections and paragraphs.Chapters/Sections: Mark chapter or section titles by enclosing them in {- ... -}.Paragraphs: Separate paragraphs by two consecutive newline characters (\n\n).Example book.txt format:{-Introduction-}

This is the first paragraph of the introduction. It provides an overview of the book's purpose.

This is the second paragraph. It delves deeper into the initial concepts.

{-Chapter 1: The Journey Begins-}

In the quiet village of Eldoria, a young hero embarked on an unexpected journey. His heart was filled with both trepidation and a nascent hope.

The ancient prophecies spoke of a chosen one, destined to face the shadows that threatened their world. Was he truly that person?

2. Run the TranslatorNavigate to the directory containing your project.py file and your input book.txt in your terminal or command prompt.Run the script using:python project.py

3. Follow the PromptsThe script will guide you through a few interactive prompts:Enter the path to the input text file (e.g., 'book.txt'):Type the name of your input text file (e.g., book.txt) or its full path.Press Enter.(Informational) Output files will be saved to: /your/current/directory/pathEnter your Gemini API key (hidden):Paste your Gemini API key here. Your input will not be visible for security reasons.Press Enter.The script will perform a quick validation test of your API key.Please enter the target language to translate into (e.g., 'Tamil', 'Hindi'):Type the language you want the book translated into (e.g., French, German, Japanese).Press Enter.How do you prefer the choice of words (e.g., 'simple', 'formal', 'conversational'):Choose a tone that suits your needs.Press Enter.The script will then proceed with the translation, displaying progress messages in your console.Output FilesUpon successful completion, the following new files will be created in the same directory as your input file:[your_input_filename]_parsed.json: A JSON file containing the original content of your book, parsed into a dictionary structure (chapters/sections and paragraphs).[your_input_filename]_translated.txt: A plain text file containing only the translated version of your book, with translated headings.[your_input_filename]_full.txt: A comprehensive plain text file that includes both the original and translated versions of each section and paragraph, useful for comparison and verification.[your_input_filename]_structured_book.json: A JSON file containing the complete structured representation of your translated book, including both original and translated text for each paragraph, organized by its translated chapter titles.TestingThis project includes unit tests that can be executed using pytest.Ensure pytest is installed:pip install pytest

Create test_project.py: In the root directory of your project, create a file named test_project.py and add your test functions to it. For example, you can test convert_txt_to_dict, and the Book class methods (add_chapter, add_paragraph_to_last_chapter).Run Tests:pytest

Error Handling and TroubleshootingError: Input file '...' not found.:Cause: The path you provided for the input file is incorrect or the file doesn't exist.Solution: Double-check the filename and path. Ensure the file is in the specified location.MODEL CAN NOT BE SET UP. Please check your API key or network connection.:Cause: Your Gemini API key is incorrect, expired, or you have no internet connection.Solution: Verify your API key from Google AI Studio. Check your internet connection.Error parsing text file. Please arrange text file as specified in README.:Cause: The input text file's formatting (especially chapter {-...-} and paragraph \n\n separators) is incorrect.Solution: Review your book.txt file against the "Prepare Your Input File" section.Failed to translate heading/paragraph '...' (with retries):Cause: This indicates a transient issue with the API call (e.g., brief network interruption, temporary rate limit hit). The script has a retry mechanism.Solution: The script will automatically retry. If it consistently fails for a particular block after max_retries attempts, it will output [Translation Failed]. If this happens frequently, consider increasing the time.sleep duration in the translate_block and translate_heading functions, or check the Gemini API status page.NameError: name 'check_api_key' is not defined (or similar for other functions):Cause: This means a function was called before it was defined in your project.py file.Solution: Ensure all helper functions (like check_api_key, setup_gemini, etc.) are defined before the main() function in your project.py file.General An unexpected error occurred...:Cause: A broader issue not specifically handled.Solution: Examine the full error message for clues. Ensure all prerequisites are met and dependencies are installed correctly.